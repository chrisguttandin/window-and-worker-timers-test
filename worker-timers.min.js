!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b(exports):"function"==typeof define&&define.amd?define(["exports"],b):b(a.workerTimers=a.workerTimers||{})}(this,function(a){"use strict";var b='!function(){"use strict";var a=new Map,b=new Map,c=function a(b,c,d,e){var f="performance"in self?performance.now():Date.now();f>d?self.postMessage(e):b.set(c,setTimeout(a,d-f,b,c,d,e))};self.addEventListener("message",function(d){var e=d.data,f=e.action,g=e.delay,h=e.id,i=e.now,j=e.type;if("clear"===f){var k=void 0;"interval"===j?(k=a.get(h),void 0!==k&&(clearTimeout(k),a.delete(h))):"timeout"===j&&(k=b.get(h),void 0!==k&&(clearTimeout(k),b.delete(h)))}else if("set"===f){var l=void 0;if("performance"in self){var m=performance.now(),n=Math.max(0,m-i);g-=n,l=m}else l=Date.now();var o=l+g;"interval"===j?a.set(h,setTimeout(c,g,a,h,o,{id:h,type:j})):"timeout"===j&&b.set(h,setTimeout(c,g,b,h,o,{id:h,type:j}))}})}();',c=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,d=function(a){for(var b=Math.round(Math.random()*c);a.has(b);)b=Math.round(Math.random()*c);return b},e=function(a){var b=new Map,c=new Map,e=new Worker(a);e.addEventListener("message",function(a){var d=a.data,e=d.id,f=d.type;if("interval"===f){var g=b.get(e);g&&g()}else if("timeout"===f){var h=c.get(e);h&&(h(),c.delete(e))}});var f=function(a){b.delete(a),e.postMessage({action:"clear",id:a,type:"interval"})},g=function(a){c.delete(a),e.postMessage({action:"clear",id:a,type:"timeout"})},h=function(a,c){var f=d(b);return b.set(f,function(){a(),e.postMessage({action:"set",delay:c,id:f,now:performance.now(),type:"interval"})}),e.postMessage({action:"set",delay:c,id:f,now:performance.now(),type:"interval"}),f},i=function(a,b){var f=d(c);return c.set(f,a),e.postMessage({action:"set",delay:b,id:f,now:performance.now(),type:"timeout"}),f};return{clearInterval:f,clearTimeout:g,setInterval:h,setTimeout:i}},f=new Blob([b],{type:"application/javascript"}),g=URL.createObjectURL(f),h=e(g),i=h.clearInterval,j=h.clearTimeout,k=h.setInterval,l=h.setTimeout;a.clearInterval=i,a.clearTimeout=j,a.setInterval=k,a.setTimeout=l,Object.defineProperty(a,"__esModule",{value:!0})});